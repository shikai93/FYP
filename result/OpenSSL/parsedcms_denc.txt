Copyright 2008-2016 The OpenSSL Project Authors. All Rights Reserved. Licensed under the OpenSSL license (the "License"). You may not use this file except in compliance with the License. You can obtain a copy in the file LICENSE in the source distribution or at https://www.openssl.org/source/license.html

S/MIME detached data encrypt example: rarely done but should the need arise this is an example....

Read in recipient certificate

Create recipient STACK and add recipient cert to it

sk_X509_pop_free will free up recipient STACK and its contents so set rcert to NULL so it isn't freed up twice.

Open content being encrypted

encrypt content

Write out CMS structure without content

www.openssl.org/source/license.html

License

signer.pem

r

encr.txt

r

smencr.out

wb

smencr.pem

w

Error Encrypting Data\n

